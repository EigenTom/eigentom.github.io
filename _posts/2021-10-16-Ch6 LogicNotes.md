---
layout:     post
title:      逻辑学探幽 Part6
subtitle:   没有逻辑 只有heip
date:       2021-10-24
author:     R1NG
header-img: img/post-bg-logicnotes.jpg
description: 本章介绍一种检验可满足性的算法-DPLL.
catalog: true
tags:
    - 逻辑学
    - 2021
---

# 可满足性与随机化

在本章中, 我们将继续讨论可满足性的检验问题和随机化问题. 

首先我们将讨论如何生成随机化的可满足性问题, 随后我们将说明, 随机生成的可满足性问题集中体现出 "急剧相变" (`Sharp-Phase Transition`) 的特点: 在一个很小的范围区间内, 可满足性问题就会突然转变为不可满足性问题. 最后, 我们简要说明随机生成的可满足性问题对现存的可满足性检查算法的困难性. 随机化不但会生成极为复杂的可满足性问题, 也能帮助我们求解他们. 我们随后会介绍一系列基于随机生成解释的, 用于检测谓词公式可满足性的随机化算法.

<br>

## 6.1 随机生成的 $\text{SAT}$ 问题

首先回顾 **子句** 的定义: 子句本质上是一系列文字的析取. 为了随机生成一个由一系列子句组成的集合, 我们需要限制子句的结构并控制文字可选择的范围, 也就是:
1. 确定集合中 **要生成的子句的个数**.
2. 限制 **组成子句的文字的可选范围**. 
3. 确定 **每个子句由多少个文字组成**. 

我们分别将这三个参数定义为 $m$, $n$ 和 $k$. 显然, 为了确保文字的对称性, $n$ 应当是某个 **偶数**. 对于给定的 $2n$, 我们可以从 $p_1, p_2, \cdots, p_n, \neg p_1, \neg p_2, \cdots, \neg p_n$ 共 $2n$ 个不同的文字中选择, 因而每个文字被选择的概率均为 $\frac{1}{2n}$.

下面我们考虑在 $\{p_1, p_2, \cdots, p_n, \neg p_1, \neg p_2, \cdots, \neg p_n\}$ 中任意挑选文字, 随机生成 $m$ 个 $k-$ 子句并组成一个子句集合, 讨论该集合的可满足性, 求生成的集合具备不可满足性的概率.

在 $m=1$ 时, 显然生成的集合只包含一个子句, 它自然是可满足的. 

在 $m=2$ 时, 如果这样的集合是不可满足的, 显然它的两个元素必须互斥, 也就是说它们必然形如 $p_{i1} \vee p_{i2} \cdots \vee p_{ik}$ 和 $\neg p_{i1} \vee \neg p_{i2} \cdots \vee \neg p_{ik}$. 显然生成这样的集合的概率为:

$$(\frac{1}{2n})^{k} \cdot (\frac{1}{2n})^{k} \cdot 2k = \frac{1}{(2n)^{2k-1}}.$$

显然这个数额对于任何 $n$ 和 $k$ 而言都是相当小的, 这意味着在这个限制条件下我们不太可能构造出具备不可满足的集合, 也就是说对于 $m$ 很小的情形, 这个问题是 **乏约束** (`under-constrained`) 的. 然而, 若我们考虑 $m$ 足够大的情形时, 这个问题会变成一个 **过约束** (`over-constrained`) 问题, 因为此时若我们还希望能够找到一个具备可满足性的集合, 就需要同时满足比原来多得多的约束条件, 因此可行解的求解难度直线上升. 

我们考虑这样的坐标系: 横轴为 **生成子句的个数 $m$ 和文字的可选范围 $n$ 的比值 $\frac{m}{n}$**, 纵轴为该比例对应的, 基于这个配置生成的子句集合 **具不可满足性** 的概率. 对于每一个 $n$, 实际上都存在一个交叉点 (`crossover point`), 在 $\frac{m}{n}$ 移过该点时对应的概率恰好完成从 $< \frac{1}{2}$ 到 $> \frac{1}{2}$ 的跨越. 而概率关于比值 $\frac{m}{n}$ 的分布非常类似于 **`Sigmoid` 函数**: 概率值在交叉点附近会出现从极度趋近于 $0$ 到极度趋近于 $1$ 的剧烈转变.

从此处开始若无特殊说明, 我们只考虑 $k=3$ 的情况, 也就是只考虑 $3-\text{SAT}$ 问题. 下面给出对在上一段中介绍的一些概念的严格定义:

**定义 6.1.1** (比值)
> 称 **比值** (`Ratio`) 为 生成子句的个数 $m$ 和文字的可选范围 $n$ 的比 $\frac{m}{n}$, 记为 $r$.

注:<br>

此处我们记 “由 $r \cdot n = m$ 个随机生成的, 由范围 $\{p_1, p_2, \cdots, p_n\}$ 内可选的文字所组成的 $3-$ 子句随机生成的子句集合具不可满足性” 的概率为 $\pi(r, n)$.

**定义 6.1.2** (交叉点)
>称满足下列条件的值 $r$ 为 **交叉点** (`Crossover Point`):
>
> 1. 对任意 $r' < r$, 有 $\pi(r', n) < 0.5$.
> 2. 对任意 $r' > r$, 有 $\pi(r, n) \geqslant 0.5$.

<br>

## 6.2 急剧相变

下面的例子明确揭示了 **急剧相变** 的基本特征: 在一个以 **交叉点** 为中心的极小区间内, 函数值从趋近于 $0$ 到 趋近于 $1$ 急剧变动. 

![20211027115731](https://cdn.jsdelivr.net/gh/KirisameR/KirisameR.github.io/img/blogpost_images/20211027115731.png)

为了形式化地定义 “很接近于”, 我们选取一个很小的整数 $\epsilon$, 称其为 **几乎为 $0$**, 并称 $1-\epsilon$ 为 **几乎为 $1$**.

**定义 6.2.1** (窗口)
> 考虑满足条件 $0 < \epsilon < 0.5$ 的实数 $\epsilon$. 称 **$\epsilon-$ 窗口** 为由所有满足 $\epsilon \leqslant \pi(r, n) \leqslant 1-\epsilon$ 的比例 $r$ 组成的集合. 

本质上, “$\epsilon-$ 窗口” 就是概率值从 “几乎为 $0$” 转变为 “几乎为 $1$” 的区域. 若这个窗口非空, 则它必包含 **交叉点**. 

我们同时记窗口的宽度为 $\text{window}(\epsilon, n)$. 关于 **窗口的宽度**, 我们有下述结论:

**推论 6.2.1**
>对随机生成的 $3-\text{SAT}$ 问题, $任何 $\epsilon$ 均满足:
>
>$$\lim_{n \rightarrow \infty} (\frac{\text{window}(\epsilon, n)}{\text{crossover}(n)}) = 0.$$

也就是说, $\epsilon-$ 窗口的宽度会随着 $n$ 的递增而逐渐收缩, 直到最终退化为交叉点, 而函数本身从一个类 `Sigmoid` 函数退化为一个单纯的阶跃函数.这就是所谓的 **急剧相变**.

<br>

## 6.3 面向 `SAT` 问题的随机化算法