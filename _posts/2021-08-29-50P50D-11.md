---
layout:     post
title:      å‰ç«¯åˆ‡å›¾å­¦ä¹ -å›¾ç‰‡ä¸€é”®åˆ‡åˆ†åŠ¨ç”»
subtitle:   3D Box Background
date:       2021-08-29
author:     R1NG
header-img: img/blogpost_images/20210829200602.png
description: 
catalog: true
tags:
    - 2021
    - å‰ç«¯å­¦ä¹ 
---


# å›¾ç‰‡ä¸€é”®åˆ‡åˆ†åŠ¨ç”» 3D-Box-Background

## 1. æ¦‚è¿°

é¡¹ç›®æœ¬ä½“å±•ç°äº†åˆ‡åˆ†å›¾ç‰‡çš„åŠ¨ç”»æ•ˆæœ. 

æœ¬é¡¹ç›®ä¸­æ¶‰åŠçš„çŸ¥è¯†ç‚¹:
1. ä½¿ç”¨ `translateY()` æ¨¡æ‹ŸæŒ‰é’®æŒ‰ä¸‹çš„å¦ä¸€ç§åŠ¨ç”»æ•ˆæœ
2. ä½¿ç”¨ `space-around` æ’ç‰ˆæ–¹å¼åœ¨ç¡®ä¿å¤šä¸ªå¯¹è±¡é—´è·ç›¸åŒçš„å‰æä¸‹, æœ€å·¦å’Œæœ€å³çš„å¯¹è±¡è·ç¦»å±å¹•è¾¹ç¼˜é—´è·ç›¸ç­‰è€Œéç´§é å±å¹•çš„æ’ç‰ˆå¸ƒå±€
3. ä½¿ç”¨ `skewX` å’Œ `skewY` æ¨¡æ‹Ÿæ–œå‘æŠ•å½±æ•ˆæœ
4. åˆ©ç”¨ `flex` æ’ç‰ˆæ–¹å¼ç»“åˆ `flex-direction` å®ç°ä¼ªç½‘æ ¼å¸ƒå±€

æ•ˆæœ: 


![20210827115820](https://cdn.jsdelivr.net/gh/KirisameMarisaa/KirisameMarisaa.github.io/img/blogpost_images/20210829200602.png)

<br>

## 2. ç»“æ„å’Œåˆ‡å›¾

ç½‘é¡µçš„åŸºæœ¬ç»“æ„å¦‚ä¸‹: 

~~~html
<body>

    <button id="btn" class="magic">Magic ğŸƒ</button>
    <div id="boxes" class="boxes big"></div>
    
</body>
~~~

æ³¨æ„å®é™…ä¸Šæ¯ä¸€ä¸ªæ­£æ–¹å½¢çš„å›¾ç‰‡åˆ‡ç‰‡éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ `div`, è¿™äº›å®¹å™¨æˆ‘ä»¬å°†é€šè¿‡ `JavaScript` æ’å…¥åˆ° `boxes` å®¹å™¨ä¸­. 

<br>

## 3. ç¼–å†™ `CSS` æ ·å¼

é¦–å…ˆå°† `body` ä¸­å…ƒç´ çš„æ’ç‰ˆæ–¹å¼è®¾ä¸ºæ°´å¹³å‚ç›´å±…ä¸­: 

~~~css
body {
    background-color: #999999;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    overflow: hidden;
    margin: 0;
}
~~~

ç„¶åå®šä¹‰åˆ‡æ¢åŠ¨ç”»çš„æŒ‰é’®çš„æ ·å¼: 

~~~css
.magic {
    background-color: #333;
    color: #ffffff;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    border: 0;
    border-radius: 3px;
    font-size: 16px;
    padding: 12px 20px;
    cursor: pointer;
    position: fixed;
    top: 20px;
    letter-spacing: 2px;
    box-shadow: 0 3px rgba(99,99,99, 0.5);
    z-index: 114514;
    transition: .3s ease;
}
~~~

ä¸‹é¢å¤„ç†æŒ‰é’®æŒ‰ä¸‹çš„æ•ˆæœ. æ³¨æ„æ­¤å¤„æ¨¡æ‹ŸæŒ‰é’®æŒ‰ä¸‹æ•ˆæœæ˜¯é€šè¿‡æ§åˆ¶æŒ‰é’®çš„ä½ç§»è€Œéè°ƒæ•´æŒ‰é’®æœ¬èº«çš„å°ºå¯¸å®ç°çš„.

~~~css
.magic:focus {
    outline: none;
}
.magic:active {
    box-shadow: none;
    transform: translateY(2px);
}
~~~

ä¸‹é¢è®¾å®šå®¹çº³æ¯ä¸€ä¸ªå›¾ç‰‡æ–¹å—çš„å®¹å™¨çš„æ ·å¼: 

~~~css
.box {
    background-image: url('../expanding-cards/avatar1.JPG');
    background-repeat: no-repeat;
    background-size: 500px 500px;
    position: relative;
    height: 125px;
    width: 125px;
    transition: .4s ease;
}
~~~

ç„¶åä½¿ç”¨ `skewX()` å’Œ `skewY()` å‘½ä»¤, æ¸²æŸ“å›¾ç‰‡æ–¹å—ä¸‹æ–¹å’Œå³ä¾§çš„ç«‹ä½“ä¾§è¾¹.

æ­¤å¤„æ³¨æ„ç›¸å…³è¯­æ³•: 

æˆ‘ä»¬ä»¥å…ƒç´ å·¦ä¸Šè§’ä¸ºåŸç‚¹, å‘ä¸‹ç«–ç›´è¡ç”Ÿå‡º $y$ è½´, å‘å³æ°´å¹³è¡ç”Ÿå‡º $x$ è½´. åˆ™æœ‰: 

`skewX(deg)`: é¡ºæ—¶é’ˆæ—‹è½¬ç›´åˆ°å…ƒç´ æ–¹å— $x$ è½´ä¸å…¶ä¸Šæ–¹è¾¹æ¡†å½¢æˆçš„å¤¹è§’ä¸º `deg` åº¦.
`skewY(deg)`: é€†æ—¶é’ˆæ—‹è½¬ç›´åˆ°å…ƒç´ æ–¹å— $y$ è½´ä¸å…¶å·¦ä¾§è¾¹æ¡†å½¢æˆçš„å¤¹è§’ä¸º `deg` åº¦.

~~~css
.box::after {
    content: '';
    background-color: #333;
    position: absolute;
    top: 8px;
    right: -15px;
    height: 100%;
    width: 15px;
    transform: skewY(45deg);
}

.box::before {
    content: '';
    background-color: #333;
    position: absolute;
    bottom: -15px;
    left: 8px;
    height: 15px;
    width: 100%;
    transform: skewX(45deg);
}
~~~

å®šä¹‰å®¹çº³æ‰€æœ‰å›¾ç‰‡æ–¹å—çš„å¤§å®¹å™¨ `boxes` åœ¨åŠ¨ç”»å˜æ¢å‰åçš„æ ·å¼:

~~~css
.boxes {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    height: 500px;
    width: 500px;
    position: relative;
    transition: .4s ease;
}
.boxes.big {
    width: 600px;
    height: 600px;
}
~~~

æœ€åå®šä¹‰åŠ¨ç”»æ•ˆæœè§¦å‘æ—¶å›¾ç‰‡æ–¹å—çš„æ ·å¼. æˆ‘ä»¬è§„å®šåŠ¨ç”»å‡ºå‘æ—¶æ¯ä¸€ä¸ªå›¾ç‰‡æ–¹å—çš„åŠ¨ç”»æ•ˆæœéƒ½æ˜¯é¡ºæ—¶é’ˆæ—‹è½¬ $360$ åº¦. æ³¨æ„æ­¤å¤„ `CSS` é€‰æ‹©å™¨çš„ç”¨æ³•.

~~~css
.boxes.big .box {
    transform: rotateZ(360deg);
}
~~~

å®Œæ•´çš„ `CSS` æ ·å¼è¡¨å¦‚ä¸‹. ä¸ºäº†æ›´å¥½çš„ä½“éªŒ, æˆ‘ä»¬è¿˜è®¾å®šäº†å…è®¸å›¾ç‰‡å®¹å™¨æ˜¾ç¤ºçš„æœ€å°å±å¹•å®½åº¦å’Œé«˜åº¦.

~~~css
 * {
    box-sizing: border-box;
}

body {
    background-color: #999999;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    overflow: hidden;
    margin: 0;
}

.magic {
    background-color: #333;
    color: #ffffff;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    border: 0;
    border-radius: 3px;
    font-size: 16px;
    padding: 12px 20px;
    cursor: pointer;
    position: fixed;
    top: 20px;
    letter-spacing: 2px;
    box-shadow: 0 3px rgba(99,99,99, 0.5);
    z-index: 114514;
    transition: .3s ease;
}

.magic:focus {
    outline: none;
}
.magic:active {
    box-shadow: none;
    transform: translateY(2px);
}

.boxes {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    height: 500px;
    width: 500px;
    position: relative;
    transition: .4s ease;
}
.boxes.big {
    width: 600px;
    height: 600px;
}
.boxes.big .box {
    transform: rotateZ(360deg);
}

.box {
    background-image: url('../expanding-cards/avatar1.JPG');
    background-repeat: no-repeat;
    background-size: 500px 500px;
    position: relative;
    height: 125px;
    width: 125px;
    transition: .4s ease;
}

.box::after {
    content: '';
    background-color: #333;
    position: absolute;
    top: 8px;
    right: -15px;
    height: 100%;
    width: 15px;
    transform: skewY(45deg);
}

.box::before {
    content: '';
    background-color: #333;
    position: absolute;
    bottom: -15px;
    left: 8px;
    height: 15px;
    width: 100%;
    transform: skewX(45deg);
}

@media (max-height: 790px) {
    .box {
        display: none;
    }
}

@media (max-width: 650px) {
    .box {
        display: none;
    }
}
~~~

<br>

## 4. `JavaScript`

æœ€åç¼–å†™ `JavaScript` å‡½æ•°:

~~~javascript
const boxesContainer = document.getElementById('boxes');
const btn = document.getElementById('btn');

btn.addEventListener('click', () => boxesContainer.classList.toggle('big'))

function createBoxes() {
    for (let i=0; i<4; i++) {
        for (let j=0; j<4; j++) {
            const box = document.createElement('div');
            box.classList.add('box');
            box.style.backgroundPosition = `${-j * 125}px ${-i * 125}px`;
            boxesContainer.appendChild(box);
        }
    }
}

createBoxes()
~~~

æœ€å, å®Œæ•´çš„ç½‘é¡µæ¼”ç¤ºå¯è§ [æ­¤å¤„](../../../../../projects/50P50D/3d-boxes-background/index.html)