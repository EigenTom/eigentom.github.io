---
layout:     post
title:      数据库导论复习 Ch3
subtitle:   REVISION
date:       2022-01-13
author:     R1NG
header-img: img/post-bg-comp23111.jpg
description: 数据库实现
catalog: true
tags:
    - 2021
    - COMP26120
---


# COMP23111 REVISION Ch3

## 3. 数据库实现

本节讨论 `SQL` 语句和部分高级功能, 并介绍 **数据库事务** 的概念和其处理方式.

### 3.1 `SQL` 基础

#### 3.1.1 选择运算: `SELECTION`

`SELECT` 语句用于 **从表中选取数据**:

~~~sql
SELECT column1, column2, ...,  FROM table_name; 
~~~

以及

~~~sql
SELECT * FROM table_name;
~~~

我们可使用 `SELECT` 语句查询一个或多个属性, 并且可在语句中对属性进行数值运算:

~~~sql
select u_name, u_score, u_score+10, u_score-10, u_score*2, u_score/2 
from T_USER;
~~~

此外, 可使用 `SELECT-WHERE` 执行 **条件查询**, 在 `WHERE` 子句中使用下列的运算符:

![20220113222029](https://cdn.jsdelivr.net/gh/KirisameR/KirisameR.github.io/img/blogpost_images/20220113222029.png)

以及使用 **与条件** (`AND`, `BETWEEN`) :

(查询` T_USER` 表中成绩大于等于 $60$ 分且小于等于 $80$ 分的学生)

~~~sql
select u_name, u_score
from T_USER 
where u_score >60 and u_score <80;

select u_name, u_score
from T_USER 
where u_score between 60 and 80' 
~~~

使用 **或条件** (`OR`, `IN`):

~~~sql
# 查询分数大于90分或者小于60分的记录 (用 OR)

select u_name, u_score
from T_USER 
where u_score >90 or u_score <60;

# 查询成绩为100，98，65的学生 (用 IN)
select u_name, u_score
from T_USER 
where u_score in(100,98,65);
~~~

使用 **非条件** (`!=`, `NOT`):
~~~sql
# != 写法
select *
from T_USER 
where u_name != `Axton Yao`;


# NOT 写法
select *
from T_USER 
where u_name not like `Ryan Xin`;
~~~

如果需要的话还可以为列名称和表名称指定别名:

~~~sql
SELECT ID AS StudentID,Name AS StudentName FROM Students;
~~~

#### 3.1.2 投影运算: `PROJECTION`

我们可以使用 `SELECT` 语句从表中选出特定列作为表的 **投影**:

![20220113223058](https://cdn.jsdelivr.net/gh/KirisameR/KirisameR.github.io/img/blogpost_images/20220113223058.png)

#### 3.1.3 重命名运算: `RENAME`

我们可以使用 `ALTER` 语句增/删表中属性, 修改属性的域, 修改属性名, 修改表名, 增/删主键:

1. 在表中添加/删除列:

~~~sql
# 添加
ALTER TABLE table_name 
ADD column_name datatype;

# 删除
ALTER TABLE table_name 
DROP COLUMN column_name;
~~~

2. 修改属性域 (列的数据类型):

~~~sql
ALTER TABLE table_name
ALTER COLUMN column_name datatype;
~~~

3. 修改属性名 (列名):

~~~sql
ALTER TABLE table_name
CHANGE COLUMN columm_name new_name
~~~

4. 修改表名:

~~~sql
ALTER TABLE table_name
RENAME TO new_name
~~~

5. 增/删主键:

~~~sql
# 删主键
ALTER TABLE table_name
DROP primary key

# 增主键
ALTER TABLE table_name
ADD CONSTRAINT pk_name PRIMARY KEY column_name
~~~

#### 3.1.4 并运算: `UNION`

我们可以使用 `UNION` 子句求两个不同表中两列的重复元素:

![20220113223855](https://cdn.jsdelivr.net/gh/KirisameR/KirisameR.github.io/img/blogpost_images/20220113223855.png)

#### 3.1.5 笛卡尔积运算: `CARTESIAN PRODUCT`



### 3.2 `SQL` 进阶

#### 3.2.1 空值: `NULL`

#### 3.2.2 嵌套查询语句

#### 3.2.3 视图

#### 3.2.4 存储过程

#### 3.2.5 触发器


### 3.3 数据库事务的概念和处理




REFERENCE:

[SQL中SELECT语句详解](https://blog.csdn.net/u013634252/article/details/80569386)

[SQL WHERE 子句](https://www.w3school.com.cn/sql/sql_where.asp)

[SQL总结（一）基本查询](https://www.cnblogs.com/yank/p/3672478.html)

[SQL ALTER TABLE 语句](https://www.w3school.com.cn/sql/sql_alter.asp)

[SQL的alter用法总结](https://blog.csdn.net/qq_41820897/article/details/100179834)