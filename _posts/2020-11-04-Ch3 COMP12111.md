---
layout:     post
title:      Ch3 RTL设计和有限状态机
subtitle:   United STATES
date:       2020-11-04
author:     R1NG
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - COMP12111
    - 课程笔记
    - 2020
---


## COMP12111 计算机组成与结构: `RTL` 设计和有限状态机

在本章中, 我们将简介寄存器传输级别逻辑设计, 以及有限状态机的相关概念:
1. 更为深入地了解顺序系统的设计
2. 介绍寄存器传输级别设计
3. 介绍有限状态机, 以及设计有限状态机的两种工具
4. 更为深入地了解数据路径与其控制


## 顺序系统设计: 寄存器传输级别 `RTL

大部分的数字电路系统都是顺序的而非组合的, 由触发器和逻辑门电路组合而成. 更复杂的电路一般又由多个模块通过线路相连接而成, 每一个模组又包含了寄存器. 因此, 寄存器传输级别 `RTL` 既可以提供足够合理的抽象程度, 又可以提供足够的门级电路控制, 因而成为现今电路设计的主流.

我们可以这样理解 `RTL`:<br>
`Register` 指一系列由触发器组合而成的, 可以暂时地存储长为数个位 (`bits`) 的信息的电路. 它们所存储的信息可以是:
- 某个状态值
- 某个数值
- 某条指令
- 某个颜色

![20201107092726](https://cdn.jsdelivr.net/gh/KirisameMarisaa/KirisameMarisaa.github.io/img/blogpost_images/20201107092726.png)

`Transfer` 指代的是我们要将数据在寄存器之间专一的需求. 比如:
- 进行某种运算
- 在某些情况下对操作进行预测



当一个数字电路系统满足以下条件时, 一般将其以寄存器传输级别表示:
- 在系统中有数个寄存器
- 运算和操作的执行涉及了存储在寄存器中的数据
- 系统中的操作序列受到控制

注: 

1. 我们可以使用在 `Ch1` 中介绍的方法构造可被实现为组合逻辑块的简易逻辑表达式. 但是, 当需要实现的功能变得复杂时, 我们必须考虑逻辑表达式的化简问题. <br><br>
首先, 我们可以简化逻辑表达式考虑的情形数量. 在一些情形中, 我们可以将某些特定输入视为无效值, 但我们往往不能将输出信号设为任意值, 因为这可能会导致意想不到的不良结果. 因此, 即使我们认定某一些输入是无关紧要的, 我们也应该为其分配一个特定的输出值 (一般我们会选择低电平输出或高阻输出). <br><br>
此外, 我们可以使用布尔代数和卡诺图对逻辑表达式进行进一步的化简. 即使我们不去专门地优化逻辑表达式, `CAD` 工具也会使用内建的算法对其进行优化. 在本课程中, 我们就将逻辑简化过程留给编译器好了.

<br>
<br>

2. 寄存器是一种由一组触发器构成, 用于保存二进制数据的存储设备. 每一个触发器只能存储一个位. 因此, 若我们要存储一个长为 $32$ 位的字, 就需要 $32$ 个触发器. <br><br>
一个典型的寄存器由多个触发器共同构成. 在寄存器中, 每个触发器都有独立的输入和输出线路, 但所有的触发器的时钟输入都是相同的. 也就是说, 触发器的同步是被强制执行的, 在时钟使能时, 所有的位都会被同时切换. <br><br>
通常我们在设计中使用符号抽象化表示寄存器 (如下图). 由于对同一电路中的所有寄存器而言, 时钟都是被共用的, 因此它往往会被省略不写. 

    ![20201107093337](https://cdn.jsdelivr.net/gh/KirisameMarisaa/KirisameMarisaa.github.io/img/blogpost_images/20201107093337.png)



## 有限状态机 `FSM`

### 状态转换图

### 状态转换表

### 状态

## 数据路径与其控制


在 `RTL` 层级中, 数据流经寄存器和组合逻辑电路序列. 在这个序列中, 寄存器用于存储数据, 而组合逻辑电路对寄存器中存储的数据进行一些逻辑操作, 并将被操作后的数据在下一个时钟脉冲时载入另一个, 或同一个寄存器中, 进而进行下一步的处理. 因此