---
layout:     post
title:      约束满足问题
subtitle:   Constraint Satisfation
date:       2021-11-06
author:     R1NG
header-img: img/post-bg-prolog.jpg
description: 本章将介绍约束满足问题及其处理方法.
catalog: true
tags:
    - 2021
    - 课程笔记
    - COMP24011
---

# 约束满足问题

在本章中, 我们将解释 **约束满足问题** 的定义和对它的建模方式, 并将其形式化为搜索问题. 

## 对约束满足问题的定义和建模

**定义** (约束满足问题)
> 我们称 要求我们针对 **给定的一组变量** 以及这些变量的 **需要满足的一些限制和约束条件**, 找出 **符合这些所有限制条件** 的解的问题为 **约束满足问题** (`Constraint Satisfaction Problem`), 又称 **约束满足网络** (`Constraint Satisfaction Network`).

形式上, 约束满足问题为一个三元组 $\mathcal{N} = <\bar{x}, \bar{D}, C>$, 其中:

1. $\bar{x}$ 为 **变量集合** $\{x_1, \cdots, x_n\}.$
2. $\bar{D}$ 为 **值域集合** $\{D_1, \cdots, D_n\}$, 每个 $D_i$ 分别对应值域集合中的 $x_i$. 
3. $C$ 为描述变量取值的 **约束集合**: <br>
    $C$ 中的每个元素均为有序对 
    
    $$<\text{scope}, \text{relation}>$$

    其中 $\text{scope}$ 为约束中的变量组 (若只涉及两个变量就是变量对), $\text{relation}$ 为变量组中涉及的变量 **需要满足的关系**. 

    如考虑变量 $X_1, X_2$, 要求它们必须满足关系 $X_1 \neq X_2$, 则可以将该约束表示为这样的有序对:

    $$<(X_1, X_2), X_1 \neq X_2>.$$

我们下面定义 **状态空间** 和 **解** 的概念:

**定义** (状态空间)
> 称由 **状态** 组成的集合为给定问题的 **状态空间**. **状态** 为对部分或全体变量的一个 **赋值**. 

**定义** (赋值的相容性与完整性)
> 若某个赋值 **不违反任何约束条件**, 则称其为 **相容的**, 也称为 **合法的**. 
>
> 若某个赋值中, **所有的变量均被赋值**, 则称其为 **完整赋值**. 反之, 则称为 **部分赋值**.

**定义** (约束满足问题的解)
> 称某个问题的任何 **相容且完整** 的赋值为该问题的解. 

**定义** (约束)
> 称只限制单个变量取值的约束为 **一元约束**, 与两个变量相关的约束为 **二元约束**.
>
> 违反直觉的是, **变量个数任意** 的约束称为 **全局约束** (但它不一定涉及问题中的所有变量). 要求约束中的所有变量取值必须互异的约束 `Alldiff` 就是一种全局约束.

若我们考虑约束中变量可取值的范围, 就会对问题的难易程度和处理方式产生直接影响. 

最简单的 `CSP` 问题涉及的变量是 **离散且值域有限** 的, 若值域无限, 则我们只能使用 **约束语言** 而非像有限值域情形下那样枚举受约束变量的所有可能取值. 我们在这里暂不考虑值域无限的情形. 

<br>

## 约束传播 (`Constraint Propogation`)


