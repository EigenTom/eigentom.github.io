I"¿D<h1 id="æ¨¡æ‹Ÿæ–‡å­—è¾“å…¥åŠ¨æ•ˆ-auto-text-effect">æ¨¡æ‹Ÿæ–‡å­—è¾“å…¥åŠ¨æ•ˆ Auto-Text-Effect</h1>

<h2 id="1-æ¦‚è¿°">1. æ¦‚è¿°</h2>

<p>é¡¹ç›®æœ¬ä½“æ¨¡æ‹Ÿäº†æ–‡å­—ç¼“æ…¢è¾“å…¥çš„æ•ˆæœ, å¹¶å¯æ§åˆ¶ â€œè¾“å…¥â€ çš„é€Ÿåº¦.</p>

<p>æœ¬é¡¹ç›®ä¸­æ¶‰åŠçš„çŸ¥è¯†ç‚¹:</p>

<ol>
  <li>ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">input</code> æ§ä»¶è°ƒæ•´å‚æ•°å€¼</li>
  <li>ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">.slice(start_index, end_index+1)</code> å¯¹å­—ç¬¦ä¸²åˆ‡ç‰‡</li>
</ol>

<p>æ•ˆæœ:</p>

<p><img src="https://cdn.jsdelivr.net/gh/KirisameMarisaa/KirisameMarisaa.github.io/img/blogpost_images/20210827023640.png" alt="20210827023640" /></p>

<p><br /></p>

<h2 id="2-ç»“æ„å’Œåˆ‡å›¾">2. ç»“æ„å’Œåˆ‡å›¾</h2>

<p>ç½‘é¡µçš„åŸºæœ¬ç»“æ„å¦‚ä¸‹:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;body&gt;</span>
    
    <span class="nt">&lt;h1</span> <span class="na">id=</span><span class="s">"text"</span><span class="nt">&gt;</span>Starting...<span class="nt">&lt;/h1&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"ctrl"</span><span class="nt">&gt;</span>
        
        <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"speed"</span><span class="nt">&gt;</span>Speed: <span class="nt">&lt;/label&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"ctrl_speed"</span> <span class="na">type=</span><span class="s">"number"</span> <span class="na">name=</span><span class="s">"speed"</span> <span class="na">id=</span><span class="s">"speed"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">min=</span><span class="s">"1"</span> <span class="na">max=</span><span class="s">"10"</span> <span class="na">step=</span><span class="s">"1"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;/body&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">flex</code> å¸ƒå±€çºµå‘æ’å¸ƒæ–‡å­—æœ¬ä½“, é€Ÿåº¦æ§åˆ¶æç¤ºæ–‡å­—å’Œé€Ÿåº¦æ§åˆ¶æ¡†.</p>

<p><br /></p>

<h2 id="3-ç¼–å†™-css-æ ·å¼">3. ç¼–å†™ <code class="language-plaintext highlighter-rouge">CSS</code> æ ·å¼</h2>

<p>é¦–å…ˆå®šä¹‰æ’ç‰ˆæ¨¡å¼, å¹¶è®¾å®šæ°´å¹³å‚ç›´å±…ä¸­:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="nt">body</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#660099</span><span class="p">;</span>
    <span class="nl">font-family</span><span class="p">:</span> <span class="n">-apple-system</span><span class="p">,</span> <span class="n">BlinkMacSystemFont</span><span class="p">,</span> <span class="s2">'Segoe UI'</span><span class="p">,</span> <span class="n">Roboto</span><span class="p">,</span> <span class="n">Oxygen</span><span class="p">,</span> <span class="n">Ubuntu</span><span class="p">,</span> <span class="n">Cantarell</span><span class="p">,</span> <span class="s2">'Open Sans'</span><span class="p">,</span> <span class="s2">'Helvetica Neue'</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
    <span class="nl">flex-direction</span><span class="p">:</span> <span class="n">column</span><span class="p">;</span>
    <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">100vh</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å…¶æ¬¡è®¾å®šåŒ…è£¹æç¤ºæ–‡å­—å’Œæ§ä»¶çš„å®¹å™¨çš„æ ·å¼:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nf">#ctrl</span> <span class="p">{</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">bottom</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.1</span><span class="p">);</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">10px</span> <span class="m">20px</span><span class="p">;</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">18px</span><span class="p">;</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å†è®¾è®¡æ§ä»¶æ ·å¼:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="nf">#ctrl</span> <span class="nt">input</span><span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">5px</span><span class="p">;</span>
    <span class="nl">font-style</span><span class="p">:</span> <span class="m">18px</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#FFCC33</span><span class="p">;</span>
    <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">-webkit-appearance</span><span class="p">:</span><span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#ctrl</span> <span class="nt">input</span><span class="nd">:focus</span> <span class="p">{</span>
    <span class="nl">outline</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æ³¨æ„æ­¤å¤„éšè—æ§ä»¶è¾“å…¥é«˜äº®æ¡†çš„æ–¹å¼.</p>

<p>æœ€åå¾®è°ƒæ–‡å­—æœ¬ä½“çš„æ’ç‰ˆæ–¹å¼å’Œé¢œè‰²:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nf">#text</span> <span class="p">{</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å®Œæ•´çš„ <code class="language-plaintext highlighter-rouge">CSS</code> æ ·å¼è¡¨å¦‚ä¸‹:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td><td class="rouge-code"><pre><span class="o">*</span> <span class="p">{</span>
    <span class="nl">box-sizing</span><span class="p">:</span> <span class="n">border-box</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">body</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#660099</span><span class="p">;</span>
    <span class="nl">font-family</span><span class="p">:</span> <span class="n">-apple-system</span><span class="p">,</span> <span class="n">BlinkMacSystemFont</span><span class="p">,</span> <span class="s2">'Segoe UI'</span><span class="p">,</span> <span class="n">Roboto</span><span class="p">,</span> <span class="n">Oxygen</span><span class="p">,</span> <span class="n">Ubuntu</span><span class="p">,</span> <span class="n">Cantarell</span><span class="p">,</span> <span class="s2">'Open Sans'</span><span class="p">,</span> <span class="s2">'Helvetica Neue'</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
    <span class="nl">flex-direction</span><span class="p">:</span> <span class="n">column</span><span class="p">;</span>
    <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">100vh</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#ctrl</span> <span class="p">{</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">bottom</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.1</span><span class="p">);</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">10px</span> <span class="m">20px</span><span class="p">;</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">18px</span><span class="p">;</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
<span class="p">}</span>
<span class="nf">#ctrl</span> <span class="nt">input</span><span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">5px</span><span class="p">;</span>
    <span class="nl">font-style</span><span class="p">:</span> <span class="m">18px</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#FFCC33</span><span class="p">;</span>
    <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">-webkit-appearance</span><span class="p">:</span><span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#ctrl</span> <span class="nt">input</span><span class="nd">:focus</span> <span class="p">{</span>
    <span class="nl">outline</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#text</span> <span class="p">{</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<h2 id="4-javascript">4. <code class="language-plaintext highlighter-rouge">JavaScript</code></h2>

<p>æœ€åç¼–å†™ <code class="language-plaintext highlighter-rouge">JavaScript</code> å‡½æ•°. åœ¨æ­¤å¤„, æˆ‘ä»¬æ„é€ ä¸€ä¸ªæ¯ä¸€æ¬¡æ‰§è¡Œéƒ½åªä¼šæ”¹å˜æ–‡å­—æœ¬ä½“ä¸€ä¸ªå­—ç¬¦é•¿åº¦çš„å†…å®¹çš„å‡½æ•°, å¹¶é€šè¿‡è®¾å®šå®ƒæ‰§è¡Œçš„é—´éš”å®ç°å¯¹è¾“å…¥æ•ˆæœçš„æ¨¡æ‹Ÿ. æ€è€ƒä¸€ä¸‹, å¦‚æœæˆ‘ä»¬å¸Œæœ›æ¯æ¬¡æ–‡å­—è¾“å…¥å®Œæˆååœé¡¿å‡ ç§’, åˆè¯¥å¦‚ä½•å®ç°?</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">textEl</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">text</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">speedEl</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">ctrl_speed</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">text</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">æ±ä¹‹æ„Ÿå®˜</span><span class="se">\n</span><span class="s1"> è¶Šæ¬¡è¶…å€«</span><span class="se">\n</span><span class="s1"> èº«æ‰‹é€ è©£</span><span class="se">\n</span><span class="s1"> å¦‚æ—¥ä¸­å‡</span><span class="se">\n</span><span class="s1"> ç›¡åœ¨</span><span class="se">\n</span><span class="s1"> arcaea.lowiro.com</span><span class="se">\n</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">idx</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">speed</span> <span class="o">=</span> <span class="mi">300</span> <span class="o">/</span> <span class="nx">speedEl</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>

<span class="nx">handleTextWriting</span><span class="p">()</span>

<span class="c1">// the function responsible for changing the innerText of elem 'text'</span>
<span class="c1">// to simulate the typing effect</span>
<span class="kd">function</span> <span class="nx">handleTextWriting</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">textEl</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">text</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">idx</span><span class="p">);</span>
    <span class="nx">idx</span><span class="o">++</span><span class="p">;</span>

    <span class="c1">// reset the text length if it exceeds</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">idx</span> <span class="o">&gt;</span> <span class="nx">text</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">idx</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// keep playing the typing effect</span>
    <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">handleTextWriting</span><span class="p">,</span> <span class="nx">speed</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// add an event listener to adjust the value of the variable</span>
<span class="nx">speedEl</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">input</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">speed</span> <span class="o">=</span> <span class="mi">300</span> <span class="o">/</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æœ€å, å®Œæ•´çš„ç½‘é¡µæ¼”ç¤ºå¯è§ <a href="../../../../../projects/50P50D/auto-text-effect/index.html">æ­¤å¤„</a></p>
:ET