I"z<h1 id="å›¾ç‰‡ä¸€é”®åˆ‡åˆ†åŠ¨ç”»-3d-box-background">å›¾ç‰‡ä¸€é”®åˆ‡åˆ†åŠ¨ç”» 3D-Box-Background</h1>

<h2 id="1-æ¦‚è¿°">1. æ¦‚è¿°</h2>

<p>é¡¹ç›®æœ¬ä½“å±•ç°äº†åˆ‡åˆ†å›¾ç‰‡çš„åŠ¨ç”»æ•ˆæœ.</p>

<p>æœ¬é¡¹ç›®ä¸­æ¶‰åŠçš„çŸ¥è¯†ç‚¹:</p>
<ol>
  <li>ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">translateY()</code> æ¨¡æ‹ŸæŒ‰é’®æŒ‰ä¸‹çš„å¦ä¸€ç§åŠ¨ç”»æ•ˆæœ</li>
  <li>ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">space-around</code> æ’ç‰ˆæ–¹å¼åœ¨ç¡®ä¿å¤šä¸ªå¯¹è±¡é—´è·ç›¸åŒçš„å‰æä¸‹, æœ€å·¦å’Œæœ€å³çš„å¯¹è±¡è·ç¦»å±å¹•è¾¹ç¼˜é—´è·ç›¸ç­‰è€Œéç´§é å±å¹•çš„æ’ç‰ˆå¸ƒå±€</li>
  <li>ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">skewX</code> å’Œ <code class="language-plaintext highlighter-rouge">skewY</code> æ¨¡æ‹Ÿæ–œå‘æŠ•å½±æ•ˆæœ</li>
  <li>åˆ©ç”¨ <code class="language-plaintext highlighter-rouge">flex</code> æ’ç‰ˆæ–¹å¼ç»“åˆ <code class="language-plaintext highlighter-rouge">flex-direction</code> å®ç°ä¼ªç½‘æ ¼å¸ƒå±€</li>
</ol>

<p>æ•ˆæœ:</p>

<p><img src="https://cdn.jsdelivr.net/gh/KirisameMarisaa/KirisameMarisaa.github.io/img/blogpost_images/20210829200602.png" alt="20210827115820" /></p>

<p><br /></p>

<h2 id="2-ç»“æ„å’Œåˆ‡å›¾">2. ç»“æ„å’Œåˆ‡å›¾</h2>

<p>ç½‘é¡µçš„åŸºæœ¬ç»“æ„å¦‚ä¸‹:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;body&gt;</span>

    <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"btn"</span> <span class="na">class=</span><span class="s">"magic"</span><span class="nt">&gt;</span>Magic ğŸƒ<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"boxes"</span> <span class="na">class=</span><span class="s">"boxes big"</span><span class="nt">&gt;&lt;/div&gt;</span>
    
<span class="nt">&lt;/body&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æ³¨æ„å®é™…ä¸Šæ¯ä¸€ä¸ªæ­£æ–¹å½¢çš„å›¾ç‰‡åˆ‡ç‰‡éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ <code class="language-plaintext highlighter-rouge">div</code>, è¿™äº›å®¹å™¨æˆ‘ä»¬å°†é€šè¿‡ <code class="language-plaintext highlighter-rouge">JavaScript</code> æ’å…¥åˆ° <code class="language-plaintext highlighter-rouge">boxes</code> å®¹å™¨ä¸­.</p>

<p><br /></p>

<h2 id="3-ç¼–å†™-css-æ ·å¼">3. ç¼–å†™ <code class="language-plaintext highlighter-rouge">CSS</code> æ ·å¼</h2>

<p>é¦–å…ˆå°† <code class="language-plaintext highlighter-rouge">body</code> ä¸­å…ƒç´ çš„æ’ç‰ˆæ–¹å¼è®¾ä¸ºæ°´å¹³å‚ç›´å±…ä¸­:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="nt">body</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#999999</span><span class="p">;</span>
    <span class="nl">font-family</span><span class="p">:</span> <span class="n">-apple-system</span><span class="p">,</span> <span class="n">BlinkMacSystemFont</span><span class="p">,</span> <span class="s2">'Segoe UI'</span><span class="p">,</span> <span class="n">Roboto</span><span class="p">,</span> <span class="n">Oxygen</span><span class="p">,</span> <span class="n">Ubuntu</span><span class="p">,</span> <span class="n">Cantarell</span><span class="p">,</span> <span class="s2">'Open Sans'</span><span class="p">,</span> <span class="s2">'Helvetica Neue'</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
    <span class="nl">flex-direction</span><span class="p">:</span> <span class="n">column</span><span class="p">;</span>
    <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">100vh</span><span class="p">;</span>
    <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç„¶åå®šä¹‰åˆ‡æ¢åŠ¨ç”»çš„æŒ‰é’®çš„æ ·å¼:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="nc">.magic</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#333</span><span class="p">;</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#ffffff</span><span class="p">;</span>
    <span class="nl">font-family</span><span class="p">:</span> <span class="n">-apple-system</span><span class="p">,</span> <span class="n">BlinkMacSystemFont</span><span class="p">,</span> <span class="s2">'Segoe UI'</span><span class="p">,</span> <span class="n">Roboto</span><span class="p">,</span> <span class="n">Oxygen</span><span class="p">,</span> <span class="n">Ubuntu</span><span class="p">,</span> <span class="n">Cantarell</span><span class="p">,</span> <span class="s2">'Open Sans'</span><span class="p">,</span> <span class="s2">'Helvetica Neue'</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
    <span class="nl">border</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">border-radius</span><span class="p">:</span> <span class="m">3px</span><span class="p">;</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">16px</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">12px</span> <span class="m">20px</span><span class="p">;</span>
    <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">fixed</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
    <span class="nl">letter-spacing</span><span class="p">:</span> <span class="m">2px</span><span class="p">;</span>
    <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">3px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">99</span><span class="p">,</span><span class="m">99</span><span class="p">,</span><span class="m">99</span><span class="p">,</span> <span class="m">0.5</span><span class="p">);</span>
    <span class="nl">z-index</span><span class="p">:</span> <span class="m">114514</span><span class="p">;</span>
    <span class="nl">transition</span><span class="p">:</span> <span class="m">.3s</span> <span class="n">ease</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ä¸‹é¢å¤„ç†æŒ‰é’®æŒ‰ä¸‹çš„æ•ˆæœ. æ³¨æ„æ­¤å¤„æ¨¡æ‹ŸæŒ‰é’®æŒ‰ä¸‹æ•ˆæœæ˜¯é€šè¿‡æ§åˆ¶æŒ‰é’®çš„ä½ç§»è€Œéè°ƒæ•´æŒ‰é’®æœ¬èº«çš„å°ºå¯¸å®ç°çš„.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nc">.magic</span><span class="nd">:focus</span> <span class="p">{</span>
    <span class="nl">outline</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.magic</span><span class="nd">:active</span> <span class="p">{</span>
    <span class="nl">box-shadow</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="nl">transform</span><span class="p">:</span> <span class="n">translateY</span><span class="p">(</span><span class="m">2px</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ä¸‹é¢è®¾å®šå®¹çº³æ¯ä¸€ä¸ªå›¾ç‰‡æ–¹å—çš„å®¹å™¨çš„æ ·å¼:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="nc">.box</span> <span class="p">{</span>
    <span class="nl">background-image</span><span class="p">:</span> <span class="sx">url('../expanding-cards/avatar1.JPG')</span><span class="p">;</span>
    <span class="nl">background-repeat</span><span class="p">:</span> <span class="nb">no-repeat</span><span class="p">;</span>
    <span class="nl">background-size</span><span class="p">:</span> <span class="m">500px</span> <span class="m">500px</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">125px</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">125px</span><span class="p">;</span>
    <span class="nl">transition</span><span class="p">:</span> <span class="m">.4s</span> <span class="n">ease</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ç„¶åä½¿ç”¨ <code class="language-plaintext highlighter-rouge">skewX()</code> å’Œ <code class="language-plaintext highlighter-rouge">skewY()</code> å‘½ä»¤, æ¸²æŸ“å›¾ç‰‡æ–¹å—ä¸‹æ–¹å’Œå³ä¾§çš„ç«‹ä½“ä¾§è¾¹.</p>

<p>æ­¤å¤„æ³¨æ„ç›¸å…³è¯­æ³•:</p>

<p>æˆ‘ä»¬ä»¥å…ƒç´ å·¦ä¸Šè§’ä¸ºåŸç‚¹, å‘ä¸‹ç«–ç›´è¡ç”Ÿå‡º $y$ è½´, å‘å³æ°´å¹³è¡ç”Ÿå‡º $x$ è½´. åˆ™æœ‰:</p>

<p><code class="language-plaintext highlighter-rouge">skewX(deg)</code>: é¡ºæ—¶é’ˆæ—‹è½¬ç›´åˆ°å…ƒç´ æ–¹å— $x$ è½´ä¸å…¶ä¸Šæ–¹è¾¹æ¡†å½¢æˆçš„å¤¹è§’ä¸º <code class="language-plaintext highlighter-rouge">deg</code> åº¦.
<code class="language-plaintext highlighter-rouge">skewY(deg)</code>: é€†æ—¶é’ˆæ—‹è½¬ç›´åˆ°å…ƒç´ æ–¹å— $y$ è½´ä¸å…¶å·¦ä¾§è¾¹æ¡†å½¢æˆçš„å¤¹è§’ä¸º <code class="language-plaintext highlighter-rouge">deg</code> åº¦.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="nc">.box</span><span class="nd">::after</span> <span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="s2">''</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#333</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span>
    <span class="nl">right</span><span class="p">:</span> <span class="m">-15px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">15px</span><span class="p">;</span>
    <span class="nl">transform</span><span class="p">:</span> <span class="n">skewY</span><span class="p">(</span><span class="m">45deg</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.box</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="s2">''</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#333</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">bottom</span><span class="p">:</span> <span class="m">-15px</span><span class="p">;</span>
    <span class="nl">left</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">15px</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">transform</span><span class="p">:</span> <span class="n">skewX</span><span class="p">(</span><span class="m">45deg</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å®šä¹‰å®¹çº³æ‰€æœ‰å›¾ç‰‡æ–¹å—çš„å¤§å®¹å™¨ <code class="language-plaintext highlighter-rouge">boxes</code> åœ¨åŠ¨ç”»å˜æ¢å‰åçš„æ ·å¼:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="nc">.boxes</span> <span class="p">{</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
    <span class="nl">flex-wrap</span><span class="p">:</span> <span class="n">wrap</span><span class="p">;</span>
    <span class="nl">justify-content</span><span class="p">:</span> <span class="n">space-around</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
    <span class="nl">transition</span><span class="p">:</span> <span class="m">.4s</span> <span class="n">ease</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.boxes.big</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">600px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">600px</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æœ€åå®šä¹‰åŠ¨ç”»æ•ˆæœè§¦å‘æ—¶å›¾ç‰‡æ–¹å—çš„æ ·å¼. æˆ‘ä»¬è§„å®šåŠ¨ç”»å‡ºå‘æ—¶æ¯ä¸€ä¸ªå›¾ç‰‡æ–¹å—çš„åŠ¨ç”»æ•ˆæœéƒ½æ˜¯é¡ºæ—¶é’ˆæ—‹è½¬ $360$ åº¦. æ³¨æ„æ­¤å¤„ <code class="language-plaintext highlighter-rouge">CSS</code> é€‰æ‹©å™¨çš„ç”¨æ³•.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nc">.boxes.big</span> <span class="nc">.box</span> <span class="p">{</span>
    <span class="nl">transform</span><span class="p">:</span> <span class="n">rotateZ</span><span class="p">(</span><span class="m">360deg</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å®Œæ•´çš„ <code class="language-plaintext highlighter-rouge">CSS</code> æ ·å¼è¡¨å¦‚ä¸‹. ä¸ºäº†æ›´å¥½çš„ä½“éªŒ, æˆ‘ä»¬è¿˜è®¾å®šäº†å…è®¸å›¾ç‰‡å®¹å™¨æ˜¾ç¤ºçš„æœ€å°å±å¹•å®½åº¦å’Œé«˜åº¦.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
</pre></td><td class="rouge-code"><pre> <span class="o">*</span> <span class="p">{</span>
    <span class="nl">box-sizing</span><span class="p">:</span> <span class="n">border-box</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">body</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#999999</span><span class="p">;</span>
    <span class="nl">font-family</span><span class="p">:</span> <span class="n">-apple-system</span><span class="p">,</span> <span class="n">BlinkMacSystemFont</span><span class="p">,</span> <span class="s2">'Segoe UI'</span><span class="p">,</span> <span class="n">Roboto</span><span class="p">,</span> <span class="n">Oxygen</span><span class="p">,</span> <span class="n">Ubuntu</span><span class="p">,</span> <span class="n">Cantarell</span><span class="p">,</span> <span class="s2">'Open Sans'</span><span class="p">,</span> <span class="s2">'Helvetica Neue'</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
    <span class="nl">flex-direction</span><span class="p">:</span> <span class="n">column</span><span class="p">;</span>
    <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">100vh</span><span class="p">;</span>
    <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.magic</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#333</span><span class="p">;</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#ffffff</span><span class="p">;</span>
    <span class="nl">font-family</span><span class="p">:</span> <span class="n">-apple-system</span><span class="p">,</span> <span class="n">BlinkMacSystemFont</span><span class="p">,</span> <span class="s2">'Segoe UI'</span><span class="p">,</span> <span class="n">Roboto</span><span class="p">,</span> <span class="n">Oxygen</span><span class="p">,</span> <span class="n">Ubuntu</span><span class="p">,</span> <span class="n">Cantarell</span><span class="p">,</span> <span class="s2">'Open Sans'</span><span class="p">,</span> <span class="s2">'Helvetica Neue'</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
    <span class="nl">border</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">border-radius</span><span class="p">:</span> <span class="m">3px</span><span class="p">;</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">16px</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">12px</span> <span class="m">20px</span><span class="p">;</span>
    <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">fixed</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
    <span class="nl">letter-spacing</span><span class="p">:</span> <span class="m">2px</span><span class="p">;</span>
    <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">3px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">99</span><span class="p">,</span><span class="m">99</span><span class="p">,</span><span class="m">99</span><span class="p">,</span> <span class="m">0.5</span><span class="p">);</span>
    <span class="nl">z-index</span><span class="p">:</span> <span class="m">114514</span><span class="p">;</span>
    <span class="nl">transition</span><span class="p">:</span> <span class="m">.3s</span> <span class="n">ease</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.magic</span><span class="nd">:focus</span> <span class="p">{</span>
    <span class="nl">outline</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.magic</span><span class="nd">:active</span> <span class="p">{</span>
    <span class="nl">box-shadow</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="nl">transform</span><span class="p">:</span> <span class="n">translateY</span><span class="p">(</span><span class="m">2px</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.boxes</span> <span class="p">{</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
    <span class="nl">flex-wrap</span><span class="p">:</span> <span class="n">wrap</span><span class="p">;</span>
    <span class="nl">justify-content</span><span class="p">:</span> <span class="n">space-around</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
    <span class="nl">transition</span><span class="p">:</span> <span class="m">.4s</span> <span class="n">ease</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.boxes.big</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">600px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">600px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.boxes.big</span> <span class="nc">.box</span> <span class="p">{</span>
    <span class="nl">transform</span><span class="p">:</span> <span class="n">rotateZ</span><span class="p">(</span><span class="m">360deg</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.box</span> <span class="p">{</span>
    <span class="nl">background-image</span><span class="p">:</span> <span class="sx">url('../expanding-cards/avatar1.JPG')</span><span class="p">;</span>
    <span class="nl">background-repeat</span><span class="p">:</span> <span class="nb">no-repeat</span><span class="p">;</span>
    <span class="nl">background-size</span><span class="p">:</span> <span class="m">500px</span> <span class="m">500px</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">125px</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">125px</span><span class="p">;</span>
    <span class="nl">transition</span><span class="p">:</span> <span class="m">.4s</span> <span class="n">ease</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.box</span><span class="nd">::after</span> <span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="s2">''</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#333</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span>
    <span class="nl">right</span><span class="p">:</span> <span class="m">-15px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">15px</span><span class="p">;</span>
    <span class="nl">transform</span><span class="p">:</span> <span class="n">skewY</span><span class="p">(</span><span class="m">45deg</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.box</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="s2">''</span><span class="p">;</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#333</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">bottom</span><span class="p">:</span> <span class="m">-15px</span><span class="p">;</span>
    <span class="nl">left</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">15px</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">transform</span><span class="p">:</span> <span class="n">skewX</span><span class="p">(</span><span class="m">45deg</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">@media</span> <span class="p">(</span><span class="n">max-height</span><span class="p">:</span> <span class="m">790px</span><span class="p">)</span> <span class="p">{</span>
    <span class="nc">.box</span> <span class="p">{</span>
        <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">@media</span> <span class="p">(</span><span class="n">max-width</span><span class="p">:</span> <span class="m">650px</span><span class="p">)</span> <span class="p">{</span>
    <span class="nc">.box</span> <span class="p">{</span>
        <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<h2 id="4-javascript">4. <code class="language-plaintext highlighter-rouge">JavaScript</code></h2>

<p>æœ€åç¼–å†™ <code class="language-plaintext highlighter-rouge">JavaScript</code> å‡½æ•°:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">boxesContainer</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">boxes</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">btn</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">boxesContainer</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">toggle</span><span class="p">(</span><span class="dl">'</span><span class="s1">big</span><span class="dl">'</span><span class="p">))</span>

<span class="kd">function</span> <span class="nx">createBoxes</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mi">4</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">j</span><span class="o">&lt;</span><span class="mi">4</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">);</span>
            <span class="nx">box</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">box</span><span class="dl">'</span><span class="p">);</span>
            <span class="nx">box</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundPosition</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="o">-</span><span class="nx">j</span> <span class="o">*</span> <span class="mi">125</span><span class="p">}</span><span class="s2">px </span><span class="p">${</span><span class="o">-</span><span class="nx">i</span> <span class="o">*</span> <span class="mi">125</span><span class="p">}</span><span class="s2">px`</span><span class="p">;</span>
            <span class="nx">boxesContainer</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">box</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">createBoxes</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æœ€å, å®Œæ•´çš„ç½‘é¡µæ¼”ç¤ºå¯è§ <a href="../../../../../projects/50P50D/3d-boxes-background/index.html">æ­¤å¤„</a></p>
:ET